!function(t){var e,r=t.setTimeout,n=t.clearTimeout,o=t.setInterval,i=t.clearInterval,s=(t.setImmediate,t.clearImmediate,void 0),a=void 0,u=t.console,c=[["bcoin","/browser/src/proxysocket.js",function(t,e,r,n,o,i){"use strict";p(1,r);const s=p(2,r),c=p(3,r);r.exports=class extends s{constructor(t){super(),this.socket=c.socket(),this.socket.reconnection=!1,this.socket.connect(t),this.sendBuffer=[],this.recvBuffer=[],this.paused=!1,this.bytesWritten=0,this.bytesRead=0,this.remoteAddress=null,this.remotePort=0,this.closed=!1,this.init()}init(){this.socket.on("error",t=>{u.error(t)}),this.socket.bind("tcp connect",(t,e)=>{this.closed||(this.remoteAddress=t,this.remotePort=e,this.emit("connect"))}),this.socket.bind("tcp data",t=>{t=a.from(t,"hex"),this.paused?this.recvBuffer.push(t):(this.bytesRead+=t.length,this.emit("data",t))}),this.socket.bind("tcp close",t=>{this.closed||(this.closed=!0,this.emit("close"))}),this.socket.bind("tcp error",t=>{const e=new Error(t.message);e.code=t.code,this.emit("error",e)}),this.socket.bind("tcp timeout",()=>{this.emit("timeout")}),this.socket.on("disconnect",()=>{this.closed||(this.closed=!0,this.emit("close"))})}connect(t,e){if(this.remoteAddress=e,this.remotePort=t,this.closed)this.sendBuffer.length=0;else{this.socket.fire("tcp connect",t,e);for(const t of this.sendBuffer)this.write(t);this.sendBuffer.length=0}}setKeepAlive(t,e){this.socket.fire("tcp keep alive",t,e)}setNoDelay(t){this.socket.fire("tcp no delay",t)}setTimeout(t,e){this.socket.fire("tcp set timeout",t),e&&this.on("timeout",e)}write(t,e){return this.bytesWritten+=t.length,this.socket.fire("tcp data",t.toString("hex")),e&&e(),!0}pause(){this.paused=!0}resume(){const t=this.recvBuffer;this.paused=!1,this.recvBuffer=[];for(const e of t)this.bytesRead+=e.length,this.emit("data",e)}destroy(){this.closed||(this.closed=!0,this.socket.destroy())}static connect(t,e,r){const n=new this(t);return n.connect(e,r),n}}}],["bpkg","/lib/builtins/assert.js",function(e,r,n,o,i,a){var c=[["assert","/assert.js",function(e,r,n,o,i,s){"use strict";function a(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}function u(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var c=h(1),f=Object.prototype.hasOwnProperty,l=Array.prototype.slice,p="foo"===function(){}.name;function d(t){return Object.prototype.toString.call(t)}function y(e){return!u(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var g=n.exports=O,m=/\s*function\s+([^\(\s]*)\s*/;function w(t){if(c.isFunction(t)){if(p)return t.name;var e=t.toString().match(m);return e&&e[1]}}function v(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function b(t){if(p||!c.isFunction(t))return c.inspect(t);var e=w(t);return"[Function"+(e?": "+e:"")+"]"}function E(t,e,r,n,o){throw new g.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function O(t,e){t||E(t,!0,e,"==",g.ok)}function A(t,e,r,n){if(t===e)return!0;if(u(t)&&u(e))return 0===a(t,e);if(c.isDate(t)&&c.isDate(e))return t.getTime()===e.getTime();if(c.isRegExp(t)&&c.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(y(t)&&y(e)&&d(t)===d(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===a(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(u(t)!==u(e))return!1;var o=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==o&&o===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(c.isPrimitive(t)||c.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=j(t),i=j(e);if(o&&!i||!o&&i)return!1;if(o)return t=l.call(t),e=l.call(e),A(t,e,r);var s,a,u=k(t),f=k(e);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),a=u.length-1;a>=0;a--)if(u[a]!==f[a])return!1;for(a=u.length-1;a>=0;a--)if(s=u[a],!A(t[s],e[s],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function j(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&E(o,r,"Missing expected exception"+n);var i="string"==typeof n,s=!t&&c.isError(o),a=!t&&o&&!r;if((s&&i&&x(o,r)||a)&&E(o,r,"Got unwanted exception"+n),t&&o&&r&&!x(o,r)||!t&&o)throw o}g.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=v(b((e=this).actual),128)+" "+e.operator+" "+v(b(e.expected),128),this.generatedMessage=!0);var r=t.stackStartFunction||E;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var o=n.stack,i=w(r),s=o.indexOf("\n"+i);if(s>=0){var a=o.indexOf("\n",s+1);o=o.substring(a+1)}this.stack=o}}},c.inherits(g.AssertionError,Error),g.fail=E,g.ok=O,g.equal=function(t,e,r){t!=e&&E(t,e,r,"==",g.equal)},g.notEqual=function(t,e,r){t==e&&E(t,e,r,"!=",g.notEqual)},g.deepEqual=function(t,e,r){A(t,e,!1)||E(t,e,r,"deepEqual",g.deepEqual)},g.deepStrictEqual=function(t,e,r){A(t,e,!0)||E(t,e,r,"deepStrictEqual",g.deepStrictEqual)},g.notDeepEqual=function(t,e,r){A(t,e,!1)&&E(t,e,r,"notDeepEqual",g.notDeepEqual)},g.notDeepStrictEqual=function t(e,r,n){A(e,r,!0)&&E(e,r,n,"notDeepStrictEqual",t)},g.strictEqual=function(t,e,r){t!==e&&E(t,e,r,"===",g.strictEqual)},g.notStrictEqual=function(t,e,r){t===e&&E(t,e,r,"!==",g.notStrictEqual)},g.throws=function(t,e,r){S(!0,t,e,r)},g.doesNotThrow=function(t,e,r){S(!1,t,e,r)},g.ifError=function(t){if(t)throw t};var k=Object.keys||function(t){var e=[];for(var r in t)f.call(t,r)&&e.push(r);return e}}],["util","/util.js",function(e,r,n,o,i,a){var c=/%[sdj%]/g;e.format=function(t){if(!A(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(p(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(t).replace(c,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),s=n[r];r<o;s=n[++r])E(s)||!S(s)?i+=" "+s:i+=" "+p(s);return i},e.deprecate=function(r,n){if(j(t.process))return function(){return e.deprecate(r,n).apply(this,arguments)};if(!0===s.noDeprecation)return r;var o=!1;return function(){if(!o){if(s.throwDeprecation)throw new Error(n);s.traceDeprecation?u.trace(n):u.error(n),o=!0}return r.apply(this,arguments)}};var f,l={};function p(t,r){var n={seen:[],stylize:y};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&e._extend(n,r),j(n.showHidden)&&(n.showHidden=!1),j(n.depth)&&(n.depth=2),j(n.colors)&&(n.colors=!1),j(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=d),g(n,t,n.depth)}function d(t,e){var r=p.styles[e];return r?"["+p.colors[r][0]+"m"+t+"["+p.colors[r][1]+"m":t}function y(t,e){return t}function g(t,r,n){if(t.customInspect&&r&&T(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return A(o)||(o=g(t,o,n)),o}var i=function(t,e){if(j(e))return t.stylize("undefined","undefined");if(A(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(O(e))return t.stylize(""+e,"number");if(b(e))return t.stylize(""+e,"boolean");if(E(e))return t.stylize("null","null")}(t,r);if(i)return i;var s=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),_(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return m(r);if(0===s.length){if(T(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(x(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return t.stylize(Date.prototype.toString.call(r),"date");if(_(r))return m(r)}var c,f="",h=!1,l=["{","}"];(v(r)&&(h=!0,l=["[","]"]),T(r))&&(f=" [Function"+(r.name?": "+r.name:"")+"]");return x(r)&&(f=" "+RegExp.prototype.toString.call(r)),k(r)&&(f=" "+Date.prototype.toUTCString.call(r)),_(r)&&(f=" "+m(r)),0!==s.length||h&&0!=r.length?n<0?x(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=h?function(t,e,r,n,o){for(var i=[],s=0,a=e.length;s<a;++s)R(e,String(s))?i.push(w(t,e,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(w(t,e,r,n,o,!0))}),i}(t,r,n,a,s):s.map(function(e){return w(t,r,n,a,e,h)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,f,l)):l[0]+f+l[1]}function m(t){return"["+Error.prototype.toString.call(t)+"]"}function w(t,e,r,n,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),R(n,o)||(s="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=E(r)?g(t,u.value,null):g(t,u.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),j(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function v(t){return Array.isArray(t)}function b(t){return"boolean"==typeof t}function E(t){return null===t}function O(t){return"number"==typeof t}function A(t){return"string"==typeof t}function j(t){return void 0===t}function x(t){return S(t)&&"[object RegExp]"===C(t)}function S(t){return"object"==typeof t&&null!==t}function k(t){return S(t)&&"[object Date]"===C(t)}function _(t){return S(t)&&("[object Error]"===C(t)||t instanceof Error)}function T(t){return"function"==typeof t}function C(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(j(f)&&(f=s.env.NODE_DEBUG||""),t=t.toUpperCase(),!l[t])if(new RegExp("\\b"+t+"\\b","i").test(f)){var r=s.pid;l[t]=function(){var n=e.format.apply(e,arguments);u.error("%s %d: %s",t,r,n)}}else l[t]=function(){};return l[t]},e.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=v,e.isBoolean=b,e.isNull=E,e.isNullOrUndefined=function(t){return null==t},e.isNumber=O,e.isString=A,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=j,e.isRegExp=x,e.isObject=S,e.isDate=k,e.isError=_,e.isFunction=T,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=h(2);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;u.log("%s - %s",(t=new Date,r=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":"),[t.getDate(),N[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=h(3),e._extend=function(t,e){if(!e||!S(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}],["util","/support/isBufferBrowser.js",function(t,e,r,n,o,i){r.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}}],["inherits","/inherits_browser.js",function(t,e,r,n,o,i){"function"==typeof Object.create?r.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}]],f=[];function h(t){if(t>>>0!==t||t>c.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(t);for(;f.length<=t;)f.push(null);var s=f[t];if(s)return s.exports;var a=c[t],u=a[0],h=a[1],l=a[2],p=o,d=i,y=r,g=e,m=n;0!==t&&(m={id:"/"+u+h,exports:g={},parent:n,filename:p,loaded:!1,children:n.children,paths:n.paths,require:n.require}),f[t]=m;try{l.call(g,g,y,m,p,d,void 0)}catch(e){throw delete f[t],e}return 0!==t&&(m.loaded=!0),m.exports}h(0)}],["bpkg","/lib/builtins/events.js",function(t,e,r,n,o,i){"use strict";var s,a="object"==typeof Reflect?Reflect:null,c=a&&"function"==typeof a.apply?a.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};s=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var f=Number.isNaN||function(t){return t!=t};function h(){h.init.call(this)}r.exports=h,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var l=10;function p(t){return void 0===t._maxListeners?h.defaultMaxListeners:t._maxListeners}function d(t,e,r,n){var o,i,s,a;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),s=i[e]),void 0===s)s=i[e]=r,++t._eventsCount;else if("function"==typeof s?s=i[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=p(t))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,u&&u.warn&&u.warn(a)}return t}function y(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,c(this.listener,this.target,t))}.bind(n);return o.listener=r,n.wrapFn=o,o}function g(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):w(o,o.length)}function m(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function w(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||f(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),h.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||f(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},h.prototype.getMaxListeners=function(){return p(this)},h.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var a=o[t];if(void 0===a)return!1;if("function"==typeof a)c(a,this,e);else{var u=a.length,f=w(a,u);for(r=0;r<u;++r)c(f[r],this,e)}return!0},h.prototype.addListener=function(t,e){return d(this,t,e,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(t,e){return d(this,t,e,!0)},h.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,y(this,t,e)),this},h.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,y(this,t,e)),this},h.prototype.removeListener=function(t,e){var r,n,o,i,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},h.prototype.listeners=function(t){return g(this,t,!0)},h.prototype.rawListeners=function(t){return g(this,t,!1)},h.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},h.prototype.listenerCount=m,h.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}}],["bsock","/lib/bsock.js",function(t,e,r,n,o,i){"use strict";const s=p(4,r),a=p(5,r),u=p(6,r);t.WebSocket=s,t.Server=a,t.server=(()=>new a),t.createServer=a.createServer.bind(a),t.attach=a.attach.bind(a),t.Socket=u,t.socket=(()=>new u),t.connect=u.connect.bind(u)}],["bsock","/lib/backend-browser.js",function(t,e,r,n,o,i){"use strict";r.exports={Client:window.WebSocket||window.MozWebSocket,EventSource:window.EventSource}}],["bsock","/lib/server-browser.js",function(t,e,r,n,o,i){"use strict";const s=p(2,r);r.exports=class extends s{constructor(t){super(),this.sockets=new Set,this.channels=new Map,this.mounts=[]}attach(){return this}mount(){}async open(){}async close(){}join(){return!0}leave(){return!0}channel(){return null}to(){}all(){}static attach(t,e){return new this(e).attach(t)}static createServer(t){return new this(t)}}}],["bsock","/lib/socket.js",function(t,e,r,n,s,u){"use strict";const c=p(7,r),f=p(2,r),h=p(4,r).Client,l=p(8,r),d=p(9,r),y=p(10,r),g=p(14,r),m=p(15,r),w=p(16,r);class v{constructor(t,e,r){this.resolve=t,this.reject=e,this.time=r}}function b(t){return null!==t&&"number"!=typeof t&&"string"!=typeof t?null:t}function E(t){return"string"!=typeof t?"No message.":t}function O(t){return"string"!=typeof t?null:t}function A(t,e,r){if(!t){const t=new TypeError(`'${e}' must be a(n) ${r}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,A),t}}r.exports=class extends f{constructor(){super(),this.server=null,this.ws=null,this.protocol="",this.url="ws://127.0.0.1:80/socket.io/?transport=websocket",this.ssl=!1,this.host="127.0.0.1",this.port=80,this.inbound=!1,this.handshake=!1,this.opened=!1,this.connected=!1,this.challenge=!1,this.destroyed=!1,this.reconnection=!0,this.time=0,this.sequence=0,this.pingInterval=25e3,this.pingTimeout=6e4,this.lastPing=0,this.parser=new g,this.binary=!1,this.packet=null,this.timer=null,this.jobs=new Map,this.hooks=new Map,this.channels=new Set,this.events=new f,this.buffer=[],this.admin=!1,this.auth=!1}accept(t,e,r,n){c(!this.ws,"Cannot accept twice."),c(t),c(e),c(r),c(r.remoteAddress),c(null!=r.remotePort),c(n);let o="ws",i=r.remoteAddress,s=r.remotePort;return r.encrypted&&(o="wss"),-1!==i.indexOf(":")&&(i=`[${i}]`),s||(s=0),this.server=t,this.binary=-1===e.url.indexOf("b64=1"),this.url=`${o}://${i}:${s}/socket.io/?transport=websocket`,this.ssl="wss"===o,this.host=r.remoteAddress,this.port=r.remotePort,this.inbound=!0,this.ws=n,this.init(),this}connect(t,e,r,n){c(!this.ws,"Cannot connect twice."),"string"==typeof t&&(n=e,[t,e,r]=y.parseURL(t));let o="ws";r&&(o="wss"),e||(e="127.0.0.1"),c("string"==typeof e),c((65535&t)===t,"Must pass a port."),c(!r||"boolean"==typeof r),c(!n||Array.isArray(n));let i=e;-1!==e.indexOf(":")&&"["!==e[0]&&(i=`[${e}]`);const s=`${o}://${i}:${t}/socket.io/?transport=websocket`;return this.binary=!0,this.url=s,this.ssl=r,this.host=e,this.port=t,this.inbound=!1,this.ws=new h(s,n),this.init(),this}init(){this.protocol=this.ws.protocol,this.time=Date.now(),this.observe(),this.parser.on("error",t=>{this.emit("error",t)}),this.parser.on("frame",async t=>{try{await this.handleFrame(t)}catch(t){this.emit("error",t)}}),this.start()}observe(){const t=this.ws;c(t),t.binaryType="arraybuffer",t.onopen=(async()=>{await this.onOpen()}),t.onmessage=(async t=>{await this.onMessage(t)}),t.onerror=(async t=>{await this.onError(t)}),t.onclose=(async t=>{await this.onClose(t)})}async onOpen(){this.destroyed||this.inbound&&(c(!this.opened),c(!this.connected),c(!this.handshake),this.opened=!0,this.handshake=!0,await this.emitAsync("open"),this.sendHandshake(),this.connected=!0,await this.emitAsync("connect"),this.sendConnect())}async emitAsync(t,...e){const r=this.listeners(t);for(const t of r)try{await t(...e)}catch(t){this.emit("error",t)}}async onMessage(t){if(this.destroyed)return;let e;try{e=await function(t){return new Promise((e,r)=>{if("string"!=typeof t)if(t&&"object"==typeof t)if(a.isBuffer(t))e(t);else if(t instanceof ArrayBuffer){const r=a.from(t);e(r)}else if(t.buffer instanceof ArrayBuffer){const r=a.from(t.buffer);e(r)}else{if("undefined"!=typeof Blob&&Blob&&t instanceof Blob){const r=new FileReader;return r.onloadend=(()=>{const t=a.from(r.result);e(t)}),void r.readAsArrayBuffer(t)}r(new Error("Bad data object."))}else r(new Error("Bad data object."));else e(t)})}(t.data)}catch(t){return void this.emit("error",t)}"string"!=typeof e?this.parser.feedBinary(e):this.parser.feedString(e)}async onError(t){this.destroyed||(this.emit("error",new Error(t.message)),this.inbound?this.destroy():this.close())}async onClose(t){if(this.destroyed)return;if(1e3===t.code||1001===t.code)return this.connected||this.emit("error",new Error("Could not connect.")),this.inbound?void this.destroy():void this.close();const e=m[t.code]||"UNKNOWN_CODE",r=`Websocket Closed: ${t.reason||"Unknown reason"} (code=${e}).`,n=new Error(r);n.reason=t.reason||"",n.code=t.code||0,this.emit("error",n),this.inbound?this.destroy():this.reconnection?this.close():this.destroy()}close(){if(!this.destroyed){this.time=Date.now(),this.packet=null,this.handshake=!1,this.connected=!1,this.challenge=!1,this.sequence=0,this.lastPing=0;for(const[t,e]of this.jobs)this.jobs.delete(t),e.reject(new Error("Job timed out."));c(this.ws),this.ws.onopen=(()=>{}),this.ws.onmessage=(()=>{}),this.ws.onerror=(()=>{}),this.ws.onclose=(()=>{}),this.ws.close(),this.emitAsync("disconnect")}}error(t){this.destroyed||this.emit("error",new Error(t))}destroy(){this.destroyed||(this.close(),this.stop(),this.opened=!1,this.destroyed=!0,this.buffer.length=0,this.emitAsync("close"),this.removeAllListeners(),this.on("error",()=>{}))}send(t){this.destroyed||(c(this.ws),t.binary&&this.binary?this.ws.send(t.toRaw()):this.ws.send(t.toString()))}reconnect(){c(!this.inbound),this.close(),this.ws=new h(this.url),this.time=Date.now(),this.observe()}start(){c(this.ws),c(null==this.timer),this.timer=o(()=>this.stall(),5e3)}stop(){null!=this.timer&&(i(this.timer),this.timer=null)}stall(){const t=Date.now();if(c(this.ws),!this.connected)return t-this.time>1e4?this.inbound||!this.reconnection?(this.error("Timed out waiting for connection."),void this.destroy()):(this.error("Timed out waiting for connection. Reconnecting..."),void this.reconnect()):void 0;for(const[e,r]of this.jobs)t-r.time>6e5&&(this.jobs.delete(e),r.reject(new Error("Job timed out.")));return this.inbound||this.challenge?!this.inbound&&t-this.lastPing>this.pingTimeout?(this.error("Connection is stalling (ping)."),this.inbound?void this.destroy():void this.close()):void 0:(this.challenge=!0,this.lastPing=t,void this.sendPing())}async handleFrame(t){if(!this.destroyed)switch(t.type){case d.types.OPEN:return this.handleOpen(t);case d.types.CLOSE:return this.handleClose(t);case d.types.PING:return this.handlePing(t);case d.types.PONG:return this.handlePong(t);case d.types.MESSAGE:return this.handleMessage(t);case d.types.UPGRADE:return this.handleUpgrade(t);case d.types.NOOP:return this.handleNoop(t);default:throw new Error("Unknown frame.")}}async handleOpen(t){if(this.inbound)throw new Error("Inbound socket sent an open frame.");if(t.binary)throw new Error("Received a binary open frame.");if(this.handshake)throw new Error("Duplicate open frame.");const e=JSON.parse(t.data);A(e&&"object"==typeof e,"open","object");const{pingInterval:r,pingTimeout:n}=e;A(r>>>0===r,"interval","uint32"),A(n>>>0===n,"timeout","uint32"),this.pingInterval=r,this.pingTimeout=n,this.handshake=!0,this.opened||(this.opened=!0,await this.emitAsync("open"))}async handleClose(t){if(this.inbound)throw new Error("Inbound socket sent a close frame.");this.close()}async handlePing(){if(!this.inbound)throw new Error("Outbound socket sent a ping frame.");this.sendPong()}async handlePong(){if(this.inbound)throw new Error("Inbound socket sent a pong frame.");if(!this.challenge)return this.error("Remote node sent bad pong."),void this.destroy();this.challenge=!1}async handleMessage(t){if(this.packet){const e=this.packet;if(!t.binary)throw new Error("Received non-binary frame as attachment.");return e.buffers.push(t.data),e.buffers.length===e.attachments?(this.packet=null,this.handlePacket(e)):void 0}if(t.binary)throw new Error("Received binary frame as a message.");const e=l.fromString(t.data);if(!(e.attachments>0))return this.handlePacket(e);this.packet=e}async handleUpgrade(t){if(!this.inbound)throw new Error("Outbound socket sent an upgrade frame.");throw new Error("Cannot upgrade from websocket.")}async handleNoop(t){}sendFrame(t,e,r){this.send(new d(t,e,r))}sendOpen(t){this.sendFrame(d.types.OPEN,t,!1)}sendClose(t){this.sendFrame(d.types.CLOSE,t,!1)}sendPing(t){this.sendFrame(d.types.PING,t,!1)}sendPong(t){this.sendFrame(d.types.PONG,t,!1)}sendMessage(t){this.sendFrame(d.types.MESSAGE,t,!1)}sendBinary(t){this.sendFrame(d.types.MESSAGE,t,!0)}sendHandshake(){const t=JSON.stringify({sid:"00000000000000000000",upgrades:[],pingInterval:this.pingInterval,pingTimeout:this.pingTimeout});this.sendOpen(t)}async handlePacket(t){if(!this.destroyed)switch(t.type){case l.types.CONNECT:return this.handleConnect();case l.types.DISCONNECT:return this.handleDisconnect();case l.types.EVENT:case l.types.BINARY_EVENT:{const e=t.getData();return A(Array.isArray(e),"args","array"),A(e.length>0,"args","array"),A("string"==typeof e[0],"event","string"),-1!==t.id?this.handleCall(t.id,e):this.handleEvent(e)}case l.types.ACK:case l.types.BINARY_ACK:{A(-1!==t.id,"id","uint32");const e=t.getData();A(null==e||Array.isArray(e),"args","array");let r=null,n=null;return e&&e.length>0&&(r=e[0]),e&&e.length>1&&(n=e[1]),null==n&&(n=null),r?(A("object"==typeof r,"error","object"),this.handleError(t.id,r)):this.handleAck(t.id,n)}case l.types.ERROR:{const e=t.getData();return A(e&&"object"==typeof e,"error","object"),this.handleError(-1,e)}default:throw new Error("Unknown packet.")}}async handleConnect(){if(this.inbound)throw new Error("Inbound socket sent connect packet.");this.connected=!0,await this.emitAsync("connect");for(const t of this.buffer)this.sendPacket(t);this.buffer.length=0}async handleDisconnect(){this.close()}async handleEvent(t){try{const e=t[0];if(w.hasOwnProperty(e))throw new Error(`Cannot emit blacklisted event: ${e}.`);this.events.emit(...t)}catch(t){this.emit("error",t),this.sendError(-1,t)}}async handleCall(t,e){let r;try{const n=e.shift();if(w.hasOwnProperty(n))throw new Error(`Cannot emit blacklisted event: ${n}.`);const o=this.hooks.get(n);if(!o)throw new Error(`Call not found: ${n}.`);r=await o(...e)}catch(e){return this.emit("error",e),void this.sendError(t,e)}null==r&&(r=null),this.sendAck(t,r)}async handleAck(t,e){const r=this.jobs.get(t);if(!r)throw new Error(`Job not found for ${t}.`);this.jobs.delete(t),r.resolve(e)}async handleError(t,e){const r=E(e.message),n=b(e.code),o=O(e.type);if(-1===t){const t=new Error(r);return t.code=n,t.type=o,void this.emit("error",t)}const i=this.jobs.get(t);if(!i)throw new Error(`Job not found for ${t}.`);this.jobs.delete(t);const s=new Error(r);s.code=n,s.type=o,i.reject(s)}sendPacket(t){this.sendMessage(t.toString());for(const e of t.buffers)this.sendBinary(e)}sendConnect(){this.sendPacket(new l(l.types.CONNECT))}sendDisconnect(){this.sendPacket(new l(l.types.DISCONNECT))}sendEvent(t){const e=new l;e.type=l.types.EVENT,e.setData(t),this.connected?this.sendPacket(e):this.buffer.push(e)}sendCall(t,e){const r=new l;r.type=l.types.EVENT,r.id=t,r.setData(e),this.connected?this.sendPacket(r):this.buffer.push(r)}sendAck(t,e){const r=new l;r.type=l.types.ACK,r.id=t,r.setData([null,e]),this.sendPacket(r)}sendError(t,e){const r=E(e.message),n=b(e.code),o=O(e.type);if(-1===t){const t=new l;return t.type=l.types.ERROR,t.setData({message:r,code:n,type:o}),void this.sendPacket(t)}const i=new l;i.type=l.types.ACK,i.id=t,i.setData([{message:r,code:n,type:o}]),this.sendPacket(i)}bind(t,e){A("string"==typeof t,"event","string"),A("function"==typeof e,"handler","function"),c(!w.hasOwnProperty(t),"Blacklisted event."),this.events.on(t,e)}unbind(t,e){A("string"==typeof t,"event","string"),A("function"==typeof e,"handler","function"),c(!w.hasOwnProperty(t),"Blacklisted event."),this.events.removeListener(t,e)}fire(...t){A(t.length>0,"event","string"),A("string"==typeof t[0],"event","string"),this.sendEvent(t)}hook(t,e){A("string"==typeof t,"event","string"),A("function"==typeof e,"handler","function"),c(!this.hooks.has(t),"Hook already bound."),c(!w.hasOwnProperty(t),"Blacklisted event."),this.hooks.set(t,e)}unhook(t){A("string"==typeof t,"event","string"),A("function"==typeof handler,"handler","function"),c(!w.hasOwnProperty(t),"Blacklisted event."),this.hooks.delete(t)}call(...t){A(t.length>0,"event","string"),A("string"==typeof t[0],"event","string");const e=this.sequence;return this.sequence+=1,this.sequence>>>=0,c(!this.jobs.has(e),"ID collision."),this.sendCall(e,t),new Promise((t,r)=>{this.jobs.set(e,new v(t,r,Date.now()))})}channel(t){return this.channels.has(t)}join(t){return!!this.server&&this.server.join(this,t)}leave(t){return!!this.server&&this.server.leave(this,t)}static accept(t,e,r,n){return(new this).accept(t,e,r,n)}static connect(t,e,r,n){return(new this).connect(t,e,r,n)}}}],["bsert","/lib/assert.js",function(t,e,r,n,o,i){"use strict";class s extends Error{constructor(t){"string"==typeof t&&(t={message:t}),null!==t&&"object"==typeof t||(t={});let e=null,r="fail",n=Boolean(t.generatedMessage);var o;if(null!=t.message&&(e="string"==typeof(o=t.message)?o:A(o)?String(o):j(o)?String(o.message||""):g(o)),"string"==typeof t.operator&&(r=t.operator),null==e){if("fail"===r)e="Assertion failed.";else{e=`${g(t.actual)} ${r} ${g(t.expected)}`}n=!0}super(e);let i=this.constructor;"function"==typeof t.stackStartFunction?i=t.stackStartFunction:"function"==typeof t.stackStartFn&&(i=t.stackStartFn),this.type="AssertionError",this.name="AssertionError [ERR_ASSERTION]",this.code="ERR_ASSERTION",this.generatedMessage=n,this.actual=t.actual,this.expected=t.expected,this.operator=r,Error.captureStackTrace&&Error.captureStackTrace(this,i)}}function a(t,e){if(!t){let r=!1;if(0===arguments.length)e="No value argument passed to `assert()`.",r=!0;else if(null==e)e="Assertion failed.",r=!0;else if(j(e))throw e;throw new s({message:e,actual:t,expected:!0,operator:"==",generatedMessage:r,stackStartFn:a})}}function u(t,e,r){if(!Object.is(t,e)){if(j(r))throw r;throw new s({message:r,actual:t,expected:e,operator:"strictEqual",stackStartFn:u})}}function c(t,e,r){if(Object.is(t,e)){if(j(r))throw r;throw new s({message:r,actual:t,expected:e,operator:"notStrictEqual",stackStartFn:c})}}function f(t,e,r){"string"==typeof e&&(r=e,e=void 0);let n=!1,o=null;y("function"==typeof t,"func","function");try{t()}catch(t){n=!0,o=t}if(n){if(m(o,e,r,f)){let t=!1;throw null==r&&(r="Got unwanted exception.",t=!0),new s({message:r,actual:o,expected:e,operator:"doesNotThrow",generatedMessage:t,stackStartFn:f})}throw o}}async function h(t,e,r){"string"==typeof e&&(r=e,e=void 0);let n=!1,o=null;"function"!=typeof t&&y(S(t),"func","promise");try{S(t)?await t:await t()}catch(t){n=!0,o=t}if(!n){let t=!1;throw null==r&&(r="Missing expected rejection.",t=!0),new s({message:r,actual:void 0,expected:e,operator:"rejects",generatedMessage:t,stackStartFn:h})}if(!m(o,e,r,h))throw o}async function l(t,e,r){"string"==typeof e&&(r=e,e=void 0);let n=!1,o=null;"function"!=typeof t&&y(S(t),"func","promise");try{S(t)?await t:await t()}catch(t){n=!0,o=t}if(n){if(m(o,e,r,l)){let t=!1;throw null==r&&(r="Got unwanted rejection.",t=!0),new s({message:r,actual:void 0,expected:e,operator:"doesNotReject",generatedMessage:t,stackStartFn:l})}throw o}}function p(t,e,r){if(!w(t,e)){if(j(r))throw r;throw new s({message:r,actual:t,expected:e,operator:"deepStrictEqual",stackStartFn:p})}}function d(t,e,r){if(w(t,e)){if(j(r))throw r;throw new s({message:r,actual:t,expected:e,operator:"notDeepStrictEqual",stackStartFn:d})}}function y(t,e,r){if(!t){let t;t=null==e?"Invalid type for parameter.":null==r?`Invalid type for "${e}".`:`"${e}" must be a(n) ${r}.`;const n=new TypeError(t);throw Error.captureStackTrace&&Error.captureStackTrace(n,y),n}}function g(t){switch(typeof t){case"undefined":return"undefined";case"object":return null===t?"null":`[${E(t)}]`;case"boolean":case"number":return t.toString();case"string":return t.length>80&&(t=`${t.substring(0,77)}...`),JSON.stringify(t);case"symbol":return t.toString();case"function":return`[${E(t)}]`;case"bigint":return`${t.toString()}n`;default:return`[${typeof t}]`}}function m(t,e,r,n){if(null==e)return!0;if(k(e))return e.test(t);if("function"!=typeof e){if(n===f||n===l)throw new TypeError('"expected" must not be an object.');if("object"!=typeof e)throw new TypeError('"expected" must be an object.');let o=!1;if(null==r){r=`Missing expected ${n===h?"rejection":"exception"}.`,o=!0}if(null==t||"object"!=typeof t)throw new s({actual:t,expected:e,message:r,operator:n.name,generatedMessage:o,stackStartFn:n});const i=Object.keys(e);if(j(e)&&i.push("name","message"),0===i.length)throw new TypeError('"expected" may not be an empty object.');for(const a of i){const i=e[a],u=t[a];if(("string"!=typeof u||!k(i)||!i.test(u))&&!(a in t&&w(u,i)))throw new s({actual:t,expected:e,message:r,operator:n.name,generatedMessage:o,stackStartFn:n})}return!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function w(t,e){return v(t,e,null)}function v(t,e,r){if(Object.is(t,e))return!0;if(!x(t)||!x(e))return!1;if(b(t)!==b(e))return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;if(O(t)&&O(e))return t.equals(e);if(A(t))return Object.is(t.getTime(),e.getTime());if(k(t))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(j(t)&&t.message!==e.message)return!1;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t),e=new Uint8Array(e)),function(t){return ArrayBuffer.isView(t)}(t)&&!O(t)){if(O(e))return!1;const r=new Uint8Array(t.buffer),n=new Uint8Array(e.buffer);if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==n[t])return!1;return!0}if(function(t){return t instanceof Set}(t)){if(t.size!==e.size)return!1;return new Set([...t,...e]).size===t.size}if(r){const n=r.a.get(t);if(null!=n){const t=r.b.get(e);if(null!=t)return n===t}r.p+=1}else r={a:new Map,b:new Map,p:0};r.a.set(t,r.p),r.b.set(e,r.p);const n=function(t,e,r){if(n=t,n instanceof Map){if(t.size!==e.size)return!1;const n=new Set([...t.keys(),...e.keys()]);if(n.size!==t.size)return!1;for(const o of n)if(!v(t.get(o),e.get(o),r))return!1;return!0}var n;if(function(t){return Array.isArray(t)}(t)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!v(t[n],e[n],r))return!1;return!0}const o=Object.keys(t),i=Object.keys(e);if(o.length!==i.length)return!1;const s=new Set([...o,...i]);if(s.size!==o.length)return!1;for(const n of s)if(!v(t[n],e[n],r))return!1;return!0}(t,e,r);return r.a.delete(t),r.b.delete(e),n}function b(t){return void 0===t?"[object Undefined]":null===t?"[object Null]":Object.prototype.toString.call(t)}function E(t){if(void 0===t)return"undefined";if(null===t)return"null";const e=b(t).slice(8,-1);return"Object"!==e&&"Error"!==e?e:t.constructor&&"string"==typeof t.constructor.name&&0!==t.constructor.name.length?t.constructor.name:e}function O(t){return x(t)&&"function"==typeof t.writeUInt32LE&&"function"==typeof t.equals}function A(t){return t instanceof Date}function j(t){return t instanceof Error}function x(t){return t&&"object"==typeof t}function S(t){return t instanceof Promise}function k(t){return t instanceof RegExp}function _(t){if("string"!=typeof t)return!1;switch(t){case"ascii":case"binary":case"base64":case"hex":case"latin1":case"ucs2":case"utf8":case"utf16le":return!0}return!1}function T(t,e,r){if("string"==typeof e){if(!O(t))return null;const{constructor:n}=t;if(!n||"function"!=typeof n.from)return null;if(!_(r))return null;if("hex"===r&&1&e.length)return null;const o=n.from(e,r);return"hex"===r&&o.length!==e.length>>>1?null:o}return e}a.AssertionError=s,a.assert=a,a.strict=a,a.ok=a,a.equal=u,a.notEqual=c,a.strictEqual=u,a.notStrictEqual=c,a.fail=function t(e){let r=!1;if(j(e))throw e;throw null==e&&(e="Assertion failed.",r=!0),new s({message:e,actual:!1,expected:!0,operator:"fail",generatedMessage:r,stackStartFn:t})},a.throws=function t(e,r,n){"string"==typeof r&&(n=r,r=void 0);let o=!1,i=null;y("function"==typeof e,"func","function");try{e()}catch(t){o=!0,i=t}if(!o){let e=!1;throw null==n&&(n="Missing expected exception.",e=!0),new s({message:n,actual:void 0,expected:r,operator:"throws",generatedMessage:e,stackStartFn:t})}if(!m(i,r,n,t))throw i},a.doesNotThrow=f,a.rejects=h,a.doesNotReject=l,a.ifError=function t(e){if(null!=e){let r="ifError got unwanted exception: ";throw"object"==typeof e&&"string"==typeof e.message?0===e.message.length&&e.constructor?r+=e.constructor.name:r+=e.message:r+=g(e),new s({message:r,actual:e,expected:null,operator:"ifError",generatedMessage:!0,stackStartFn:t})}},a.deepEqual=p,a.notDeepEqual=d,a.deepStrictEqual=p,a.notDeepStrictEqual=d,a.bufferEqual=function t(e,r,n,o){if(_(n)||(o=n,n=null),null==n&&(n="hex"),r=T(e,r,n),y(O(e),"actual","buffer"),y(O(r),"expected","buffer"),e!==r&&!e.equals(r)){if(j(o))throw o;throw new s({message:o,actual:e.toString(n),expected:r.toString(n),operator:"bufferEqual",stackStartFn:t})}},a.notBufferEqual=function t(e,r,n,o){if(_(n)||(o=n,n=null),null==n&&(n="hex"),r=T(e,r,n),y(O(e),"actual","buffer"),y(O(r),"expected","buffer"),e===r||e.equals(r)){if(j(o))throw o;throw new s({message:o,actual:e.toString(n),expected:r.toString(n),operator:"notBufferEqual",stackStartFn:t})}},a.enforce=y,a.range=function t(e,r){if(!e){const e=null!=r?`"${r}" is out of range.`:"Parameter is out of range.",n=new RangeError(e);throw Error.captureStackTrace&&Error.captureStackTrace(n,t),n}},r.exports=a}],["bsock","/lib/packet.js",function(t,e,r,n,o,i){"use strict";const s=p(7,r),u={CONNECT:0,DISCONNECT:1,EVENT:2,ACK:3,ERROR:4,BINARY_EVENT:5,BINARY_ACK:6};class c{constructor(t){this.type=t||0,this.attachments=0,this.nsp="/",this.id=-1,this.data="",this.buffers=[]}setData(t){s(void 0!==t),s("number"!=typeof t),s("function"!=typeof t);const[e,r]=function(t){const e=[],r=function t(e,r){if(a.isBuffer(e)){const t={_placeholder:!0,num:r.length};return r.push(e),t}if(Array.isArray(e)){const n=[];for(let o=0;o<e.length;o++)n.push(t(e[o],r));return n}if(e&&"object"==typeof e){const n=Object.create(null);for(const o of Object.keys(e))n[o]=t(e[o],r);return n}return e}(t,e);return[JSON.stringify(r),e]}(t);if(this.data=e,this.buffers=r,this.attachments=r.length,this.attachments>0)switch(this.type){case u.EVENT:this.type=u.BINARY_EVENT;break;case u.ACK:this.type=u.BINARY_ACK}return this}getData(){return 0===this.data.length?null:(t=this.data,e=this.buffers,JSON.parse(t,(t,n)=>null!==(r=n)&&"object"==typeof r&&!0===r._placeholder&&r.num>>>0===r.num?(s(n.num<e.length),e[n.num]):n));var t,e,r}toString(){let t=this.type.toString(10);switch(this.type){case u.BINARY_EVENT:case u.BINARY_ACK:t+=this.attachments.toString(10)+"-"}return"/"!==this.nsp&&(t+=this.nsp+","),-1!==this.id&&(t+=this.id.toString(10)),t+=this.data}static fromString(t){s("string"==typeof t),s(t.length>0);let e=0,r=0,n=0,o="/",i=-1,a="";switch([e,r]=function(t,e){const r=t.charCodeAt(e)-48;return r<0||r>9?-1:[e+1,r]}(t,e),s(-1!==r),s(r<=u.BINARY_ACK),r){case u.BINARY_EVENT:case u.BINARY_ACK:[e,n]=f(t,e),s(-1!==n),s(e<t.length),s("-"===t[e]),e+=1}e<t.length&&"/"===t[e]&&([e,o]=function(t,e,r){let n=e;for(;n<t.length&&t[n]!==r;n++);return s(n<t.length),[n+1,t.substring(e,n)]}(t,e,",")),[e,i]=f(t,e),e<t.length&&(a=t.substring(e));const c=new this;return c.type=r,c.attachments=n,c.nsp=o,c.id=i,c.data=a,c}}function f(t,e){let r=0,n=0;for(;e<t.length;e++){const o=t.charCodeAt(e)-48;if(o<0||o>9)break;n*=10,n+=o,s((r+=1)<=10)}return s(n<=4294967295),0===r&&(n=-1),[e,n]}c.types=u,r.exports=c}],["bsock","/lib/frame.js",function(t,e,r,n,o,i){"use strict";const s=p(7,r),u=a.alloc(0),c={OPEN:0,CLOSE:1,PING:2,PONG:3,MESSAGE:4,UPGRADE:5,NOOP:6};class f{constructor(t,e,r){s("number"==typeof t),s(t>>>0===t),s(t<=c.NOOP),s("boolean"==typeof r),r?(null==e&&(e=u),s(a.isBuffer(e))):(null==e&&(e=""),s("string"==typeof e)),this.type=t,this.data=e,this.binary=r}toString(){let t="";return this.binary?(t+="b",t+=this.type.toString(10),t+=this.data.toString("base64")):(t+=this.type.toString(10),t+=this.data),t}static fromString(t){s("string"==typeof t);let e,r=t.charCodeAt(0),n=!1;return 98===r?(s(t.length>1),r=t.charCodeAt(1),e=a.from(t.substring(2),"base64"),n=!0):e=t.substring(1),s((r-=48)>=0&&r<=9),s(r<=c.NOOP),new this(r,e,n)}size(){let t=1;return this.binary?t+=this.data.length:t+=a.byteLength(this.data,"utf8"),t}toRaw(){const t=a.allocUnsafe(this.size());return t[0]=this.type,this.binary?this.data.copy(t,1):this.data.length>0&&t.write(this.data,1,"utf8"),t}static fromRaw(t){s(a.isBuffer(t)),s(t.length>0);const e=t[0];return s(e<=c.NOOP),new this(e,t.slice(1),!0)}}f.types=c,f.table=["open","close","ping","pong","message","upgrade","noop"],r.exports=f}],["bsock","/lib/util.js",function(t,e,r,n,o,i){"use strict";const s=p(7,r),a=p(11,r);t.parseURL=function(t){-1===t.indexOf("://")&&(t=`ws://${t}`);const e=a.parse(t);if("http:"!==e.protocol&&"https:"!==e.protocol&&"ws:"!==e.protocol&&"wss:"!==e.protocol)throw new Error("Invalid protocol for websocket URL.");if(!e.hostname)throw new Error("Malformed URL.");const r=e.hostname;let n=80,o=!1;return"https:"!==e.protocol&&"wss:"!==e.protocol||(n=443,o=!0),e.port&&(n=parseInt(e.port,10),s((65535&n)===n),s(0!==n)),[n,r,o]}}],["bpkg","/lib/builtins/url.js",function(t,e,r,n,o,i){var s=[["url","/url.js",function(t,e,r,n,o,i){"use strict";var s=p(12,r),a=u(1);function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=j,t.resolve=function(t,e){return j(t,!1,!0).resolve(e)},t.resolveObject=function(t,e){return t?j(t,!1,!0).resolveObject(e):e},t.format=function(t){a.isString(t)&&(t=j(t));return t instanceof c?t.format():c.prototype.format.call(t)},t.Url=c;var f=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),y=["'"].concat(d),g=["%","/","?",";","#"].concat(y),m=["/","?","#"],w=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=p(13,r);function j(t,e,r){if(t&&a.isObject(t)&&t instanceof c)return t;var n=new c;return n.parse(t,e,r),n}c.prototype.parse=function(t,e,r){if(!a.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",i=t.split(o);i[0]=i[0].replace(/\\/g,"/");var u=t=i.join(o);if(u=u.trim(),!r&&1===t.split("#").length){var c=l.exec(u);if(c)return this.path=u,this.href=u,this.pathname=c[1],c[2]?(this.search=c[2],this.query=e?A.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=f.exec(u);if(h){var p=(h=h[0]).toLowerCase();this.protocol=p,u=u.substr(h.length)}if(r||h||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var d="//"===u.substr(0,2);!d||h&&E[h]||(u=u.substr(2),this.slashes=!0)}if(!E[h]&&(d||h&&!O[h])){for(var j,x,S=-1,k=0;k<m.length;k++){-1!==(_=u.indexOf(m[k]))&&(-1===S||_<S)&&(S=_)}-1!==(x=-1===S?u.lastIndexOf("@"):u.lastIndexOf("@",S))&&(j=u.slice(0,x),u=u.slice(x+1),this.auth=decodeURIComponent(j)),S=-1;for(k=0;k<g.length;k++){var _;-1!==(_=u.indexOf(g[k]))&&(-1===S||_<S)&&(S=_)}-1===S&&(S=u.length),this.host=u.slice(0,S),u=u.slice(S),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var C=this.hostname.split(/\./),I=(k=0,C.length);k<I;k++){var N=C[k];if(N&&!N.match(w)){for(var R="",B=0,P=N.length;B<P;B++)N.charCodeAt(B)>127?R+="x":R+=N[B];if(!R.match(w)){var U=C.slice(0,k),L=C.slice(k+1),M=N.match(v);M&&(U.push(M[1]),L.unshift(M[2])),L.length&&(u="/"+L.join(".")+u),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=s.toASCII(this.hostname));var D=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+D,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!b[p])for(k=0,I=y.length;k<I;k++){var F=y[k];if(-1!==u.indexOf(F)){var z=encodeURIComponent(F);z===F&&(z=escape(F)),u=u.split(F).join(z)}}var $=u.indexOf("#");-1!==$&&(this.hash=u.substr($),u=u.slice(0,$));var G=u.indexOf("?");if(-1!==G?(this.search=u.substr(G),this.query=u.substr(G+1),e&&(this.query=A.parse(this.query)),u=u.slice(0,G)):e&&(this.search="",this.query={}),u&&(this.pathname=u),O[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var Y=this.search||"";this.path=D+Y}return this.href=this.format(),this},c.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(i=A.stringify(this.query));var s=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||O[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+n},c.prototype.resolve=function(t){return this.resolveObject(j(t,!1,!0)).format()},c.prototype.resolveObject=function(t){if(a.isString(t)){var e=new c;e.parse(t,!1,!0),t=e}for(var r=new c,n=Object.keys(this),o=0;o<n.length;o++){var i=n[o];r[i]=this[i]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var f=s[u];"protocol"!==f&&(r[f]=t[f])}return O[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!O[t.protocol]){for(var h=Object.keys(t),l=0;l<h.length;l++){var p=h[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||E[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",g=r.search||"";r.path=y+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=w||m||r.host&&t.pathname,b=v,A=r.pathname&&r.pathname.split("/")||[],j=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!O[r.protocol]);if(j&&(r.hostname="",r.port=null,r.host&&(""===A[0]?A[0]=r.host:A.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),v=v&&(""===d[0]||""===A[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,A=d;else if(d.length)A||(A=[]),A.pop(),A=A.concat(d),r.search=t.search,r.query=t.query;else if(!a.isNullOrUndefined(t.search)){if(j)r.hostname=r.host=A.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=t.search,r.query=t.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!A.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=A.slice(-1)[0],S=(r.host||t.host||A.length>1)&&("."===x||".."===x)||""===x,k=0,_=A.length;_>=0;_--)"."===(x=A[_])?A.splice(_,1):".."===x?(A.splice(_,1),k++):k&&(A.splice(_,1),k--);if(!v&&!b)for(;k--;k)A.unshift("..");!v||""===A[0]||A[0]&&"/"===A[0].charAt(0)||A.unshift(""),S&&"/"!==A.join("/").substr(-1)&&A.push("");var T,C=""===A[0]||A[0]&&"/"===A[0].charAt(0);j&&(r.hostname=r.host=C?"":A.length?A.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(v=v||r.host&&A.length)&&!C&&A.unshift(""),A.length?r.pathname=A.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},c.prototype.parseHost=function(){var t=this.host,e=h.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}}],["url","/util.js",function(t,e,r,n,o,i){"use strict";r.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}]],a=[];function u(i){if(i>>>0!==i||i>s.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(i);for(;a.length<=i;)a.push(null);var u=a[i];if(u)return u.exports;var c=s[i],f=c[0],h=c[1],l=c[2],p=n,d=o,y=e,g=t,m=r;0!==i&&(m={id:"/"+f+h,exports:g={},parent:r,filename:p,loaded:!1,children:r.children,paths:r.paths,require:r.require}),a[i]=m;try{l.call(g,g,y,m,p,d,void 0)}catch(t){throw delete a[i],t}return 0!==i&&(m.loaded=!0),m.exports}u(0)}],["bpkg","/lib/builtins/punycode.js",function(t,e,r,n,o,i){"use strict";const s=2147483647,a=/^xn--/,u=/[^\0-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,l=String.fromCharCode;function p(t){throw new RangeError(f[t])}function d(t,e){const r=t.split("@");let n="";r.length>1&&(n=r[0]+"@",t=r[1]);const o=function(t,e){const r=[];let n=t.length;for(;n--;)r[n]=e(t[n]);return r}((t=t.replace(c,".")).split("."),e).join(".");return n+o}function y(t){const e=[];let r=0;const n=t.length;for(;r<n;){const o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){const n=t.charCodeAt(r++);56320==(64512&n)?e.push(((1023&o)<<10)+(1023&n)+65536):(e.push(o),r--)}else e.push(o)}return e}const g=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},m=function(t,e,r){let n=0;for(t=r?h(t/700):t>>1,t+=h(t/e);t>455;n+=36)t=h(t/35);return h(n+36*t/(t+38))},w=function(t){const e=[],r=t.length;let n=0,o=128,i=72,a=t.lastIndexOf("-");a<0&&(a=0);for(let r=0;r<a;++r)t.charCodeAt(r)>=128&&p("not-basic"),e.push(t.charCodeAt(r));for(let c=a>0?a+1:0;c<r;){let a=n;for(let e=1,o=36;;o+=36){c>=r&&p("invalid-input");const a=(u=t.charCodeAt(c++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:36;(a>=36||a>h((s-n)/e))&&p("overflow"),n+=a*e;const f=o<=i?1:o>=i+26?26:o-i;if(a<f)break;const l=36-f;e>h(s/l)&&p("overflow"),e*=l}const f=e.length+1;i=m(n-a,f,0==a),h(n/f)>s-o&&p("overflow"),o+=h(n/f),n%=f,e.splice(n++,0,o)}var u;return String.fromCodePoint(...e)},v=function(t){const e=[];let r=(t=y(t)).length,n=128,o=0,i=72;for(const r of t)r<128&&e.push(l(r));let a=e.length,u=a;for(a&&e.push("-");u<r;){let r=s;for(const e of t)e>=n&&e<r&&(r=e);const c=u+1;r-n>h((s-o)/c)&&p("overflow"),o+=(r-n)*c,n=r;for(const r of t)if(r<n&&++o>s&&p("overflow"),r==n){let t=o;for(let r=36;;r+=36){const n=r<=i?1:r>=i+26?26:r-i;if(t<n)break;const o=t-n,s=36-n;e.push(l(g(n+o%s,0))),t=h(o/s)}e.push(l(g(t,0))),i=m(o,c,u==a),o=0,++u}++o,++n}return e.join("")},b={version:"2.1.0",ucs2:{decode:y,encode:t=>String.fromCodePoint(...t)},decode:w,encode:v,toASCII:function(t){return d(t,function(t){return u.test(t)?"xn--"+v(t):t})},toUnicode:function(t){return d(t,function(t){return a.test(t)?w(t.slice(4).toLowerCase()):t})}};r.exports=b}],["bpkg","/lib/builtins/querystring.js",function(t,e,r,n,o,i){var s=[["querystring","/index.js",function(t,e,r,n,o,i){"use strict";t.decode=t.parse=u(1),t.encode=t.stringify=u(2)}],["querystring","/decode.js",function(t,e,r,n,o,i){"use strict";function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r.exports=function(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var i=/\+/g;t=t.split(e);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var f,h,l,p,d=t[c].replace(i,"%20"),y=d.indexOf(r);y>=0?(f=d.substr(0,y),h=d.substr(y+1)):(f=d,h=""),l=decodeURIComponent(f),p=decodeURIComponent(h),s(o,l)?Array.isArray(o[l])?o[l].push(p):o[l]=[o[l],p]:o[l]=p}return o}}],["querystring","/encode.js",function(t,e,r,n,o,i){"use strict";var s=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};r.exports=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(n){var o=encodeURIComponent(s(n))+r;return Array.isArray(t[n])?t[n].map(function(t){return o+encodeURIComponent(s(t))}).join(e):o+encodeURIComponent(s(t[n]))}).join(e):n?encodeURIComponent(s(n))+r+encodeURIComponent(s(t)):""}}]],a=[];function u(i){if(i>>>0!==i||i>s.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(i);for(;a.length<=i;)a.push(null);var u=a[i];if(u)return u.exports;var c=s[i],f=c[0],h=c[1],l=c[2],p=n,d=o,y=e,g=t,m=r;0!==i&&(m={id:"/"+f+h,exports:g={},parent:r,filename:p,loaded:!1,children:r.children,paths:r.paths,require:r.require}),a[i]=m;try{l.call(g,g,y,m,p,d,void 0)}catch(t){throw delete a[i],t}return 0!==i&&(m.loaded=!0),m.exports}u(0)}],["bsock","/lib/parser.js",function(t,e,r,n,o,i){"use strict";const s=p(7,r),u=p(2,r),c=p(9,r),f=1e8;r.exports=class extends u{constructor(){super()}error(t){this.emit("error",new Error(t))}feedBinary(t){if(s(a.isBuffer(t)),t.length>f)return void this.error("Frame too large.");let e;try{e=c.fromRaw(t)}catch(t){return void this.emit("error",t)}this.emit("frame",e)}feedString(t){if(s("string"==typeof t),a.byteLength(t,"utf8")>f)return void this.error("Frame too large.");let e;try{e=c.fromString(t)}catch(t){return void this.emit("error",t)}this.emit("frame",e)}}}],["bsock","/lib/codes.js",function(t,e,r,n,o,i){"use strict";r.exports={1000:"NORMAL_CLOSURE",1001:"GOING_AWAY",1002:"PROTOCOL_ERROR",1003:"UNSUPPORTED_DATA",1004:"RESERVED",1005:"NO_STATUS_RECVD",1006:"ABNORMAL_CLOSURE",1007:"INVALID_FRAME_PAYLOAD_DATA",1008:"POLICY_VIOLATION",1009:"MESSAGE_TOO_BIG",1010:"MISSING_EXTENSION",1011:"INTERNAL_ERROR",1012:"SERVICE_RESTART",1013:"TRY_AGAIN_LATER",1014:"BAD_GATEWAY",1015:"TLS_HANDSHAKE"}}],["bsock","/lib/blacklist.js",function(t,e,r,n,o,i){"use strict";r.exports={connect:!0,connect_error:!0,connect_timeout:!0,connecting:!0,disconnect:!0,error:!0,reconnect:!0,reconnect_attempt:!0,reconnect_failed:!0,reconnect_error:!0,reconnecting:!0,ping:!0,pong:!0}}],["bpkg","/lib/builtins/timers.js",function(e,n,o,i,a,u){var c=[["timers-browserify","/main.js",function(e,r,n,o,i,s){var a=void 0!==t&&t||"undefined"!=typeof self&&self||window,u=Function.prototype.apply,c=t.setTimeout,f=t.clearTimeout,l=t.setInterval,p=t.clearInterval;t.setImmediate,t.clearImmediate;function d(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new d(u.call(c,a,arguments),f)},e.setInterval=function(){return new d(u.call(l,a,arguments),p)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(t,e){f(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){f(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){f(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=c(function(){t._onTimeout&&t._onTimeout()},e))},h(1),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}],["setimmediate","/setImmediate.js",function(e,n,o,i,a,u){!function(t,e){"use strict";if(!t.setImmediate){var n,o,i,a,u,c=1,f={},h=!1,l=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?n=function(t){s.nextTick(function(){y(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){y(t.data)},n=function(t){i.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){y(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):n=function(t){r(y,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&y(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),n=function(e){t.postMessage(a+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var o={callback:t,args:e};return f[c]=o,n(c),c++},p.clearImmediate=d}function d(t){delete f[t]}function y(t){if(h)r(y,0,t);else{var n=f[t];if(n){h=!0;try{!function(t){var r=t.callback,n=t.args;switch(n.length){case 0:r();break;case 1:r(n[0]);break;case 2:r(n[0],n[1]);break;case 3:r(n[0],n[1],n[2]);break;default:r.apply(e,n)}}(n)}finally{d(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}]],f=[];function h(t){if(t>>>0!==t||t>c.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(t);for(;f.length<=t;)f.push(null);var r=f[t];if(r)return r.exports;var s=c[t],u=s[0],h=s[1],l=s[2],p=i,d=a,y=n,g=e,m=o;0!==t&&(m={id:"/"+u+h,exports:g={},parent:o,filename:p,loaded:!1,children:o.children,paths:o.paths,require:o.require}),f[t]=m;try{l.call(g,g,y,m,p,d,void 0)}catch(e){throw delete f[t],e}return 0!==t&&(m.loaded=!0),m.exports}h(0)}],["bpkg","/lib/builtins/process.js",function(t,e,o,i,s,a){var u,c,f=o.exports={};function h(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function p(t){if(u===r)return r(t,0);if((u===h||!u)&&r)return u=r,r(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}!function(){try{u="function"==typeof r?r:h}catch(t){u=h}try{c="function"==typeof n?n:l}catch(t){c=l}}();var d,y=[],g=!1,m=-1;function w(){g&&d&&(g=!1,d.length?y=d.concat(y):m=-1,y.length&&v())}function v(){if(!g){var t=p(w);g=!0;for(var e=y.length;e;){for(d=y,y=[];++m<e;)d&&d[m].run();m=-1,e=y.length}d=null,g=!1,function(t){if(c===n)return n(t);if((c===l||!c)&&n)return c=n,n(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function b(t,e){this.fun=t,this.array=e}function E(){}f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];y.push(new b(t,e)),1!==y.length||g||p(v)},b.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=E,f.addListener=E,f.once=E,f.off=E,f.removeListener=E,f.removeAllListeners=E,f.emit=E,f.prependListener=E,f.prependOnceListener=E,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}],["bpkg","/lib/builtins/buffer.js",function(t,e,r,n,o,i){var s=[["buffer","/index.js",function(t,e,r,n,o,i){"use strict";var s=c(1),a=c(2);t.Buffer=l,t.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},t.INSPECT_MAX_BYTES=50;var f=2147483647;function h(t){if(t>f)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=l.prototype,e}function l(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return y(t)}return p(t,e,r)}function p(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|w(t,e),n=h(r),o=n.write(t,e);o!==r&&(n=n.slice(0,o));return n}(t,e);if(ArrayBuffer.isView(t))return g(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return n.__proto__=l.prototype,n}(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return l.from(n,e,r);var o=function(t){if(l.isBuffer(t)){var e=0|m(t.length),r=h(e);return 0===r.length?r:(t.copy(r,0,0,e),r)}if(void 0!==t.length)return"number"!=typeof t.length||J(t.length)?h(0):g(t);if("Buffer"===t.type&&Array.isArray(t.data))return g(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function y(t){return d(t),h(t<0?0:0|m(t))}function g(t){for(var e=t.length<0?0:0|m(t.length),r=h(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function m(t){if(t>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|t}function w(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(t).length;default:if(o)return n?-1:z(t).length;e=(""+e).toLowerCase(),o=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:E(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):E(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function E(t,e,r,n,o){var i,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var f=-1;for(i=r;i<a;i++)if(c(t,i)===c(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*s}else-1!==f&&(i-=i-f),f=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var h=!0,l=0;l<u;l++)if(c(t,i+l)!==c(e,l)){h=!1;break}if(h)return i}return-1}function O(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(J(a))return s;t[r+s]=a}return s}function A(t,e,r,n){return G(z(e,t.length-r),t,r,n)}function j(t,e,r,n){return G(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return j(t,e,r,n)}function S(t,e,r,n){return G($(e),t,r,n)}function k(t,e,r,n){return G(function(t,e){for(var r,n,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function _(t,e,r){return 0===e&&r===t.length?s.fromByteArray(t):s.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,s,a,u,c=t[o],f=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=h}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=C));return r}(n)}t.kMaxLength=f,l.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||void 0===u||"function"!=typeof u.error||u.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(t,e,r){return p(t,e,r)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(t,e,r){return function(t,e,r){return d(t),t<=0?h(t):void 0!==e?"string"==typeof r?h(t).fill(e,r):h(t).fill(e):h(t)}(t,e,r)},l.allocUnsafe=function(t){return y(t)},l.allocUnsafeSlow=function(t){return y(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(Y(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=l.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(Y(i,Uint8Array)&&(i=l.from(i)),!l.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},l.byteLength=w,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},l.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return N(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},l.prototype.compare=function(t,e,r,n,o){if(Y(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;for(var i=o-n,s=r-e,a=Math.min(i,s),u=this.slice(n,o),c=t.slice(e,r),f=0;f<a;++f)if(u[f]!==c[f]){i=u[f],s=c[f];break}return i<s?-1:s<i?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return O(this,t,e,r);case"utf8":case"utf-8":return A(this,t,e,r);case"ascii":return j(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function I(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function N(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=F(t[i]);return o}function B(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,r,n,o,i){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function L(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,4),a.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,8),a.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=l.prototype,n},l.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},l.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},l.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),a.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),a.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),a.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),a.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||U(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||U(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);U(this,t,e,r,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);U(this,t,e,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeFloatLE=function(t,e,r){return M(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return M(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var i=o-1;i>=0;--i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return o},l.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var o=t.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(t=o)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var s=l.isBuffer(t)?t:l.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%a]}return this};var q=/[^+/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function $(t){return s.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}}],["base64-js","/index.js",function(t,e,r,n,o,i){"use strict";t.byteLength=function(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n},t.toByteArray=function(t){for(var e,r=l(t),n=r[0],o=r[1],i=new u(function(t,e,r){return 3*(e+r)/4-r}(0,n,o)),s=0,c=o>0?n-4:n,f=0;f<c;f+=4)e=a[t.charCodeAt(f)]<<18|a[t.charCodeAt(f+1)]<<12|a[t.charCodeAt(f+2)]<<6|a[t.charCodeAt(f+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=255&e;2===o&&(e=a[t.charCodeAt(f)]<<2|a[t.charCodeAt(f+1)]>>4,i[s++]=255&e);1===o&&(e=a[t.charCodeAt(f)]<<10|a[t.charCodeAt(f+1)]<<4|a[t.charCodeAt(f+2)]>>2,i[s++]=e>>8&255,i[s++]=255&e);return i},t.fromByteArray=function(t){for(var e,r=t.length,n=r%3,o=[],i=0,a=r-n;i<a;i+=16383)o.push(p(t,i,i+16383>a?a:i+16383));1===n?(e=t[r-1],o.push(s[e>>2]+s[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],o.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return o.join("")};for(var s=[],a=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=c.length;f<h;++f)s[f]=c[f],a[c.charCodeAt(f)]=f;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function p(t,e,r){for(var n,o,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(s[(o=n)>>18&63]+s[o>>12&63]+s[o>>6&63]+s[63&o]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63}],["ieee754","/index.js",function(t,e,r,n,o,i){t.read=function(t,e,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?o-1:0,l=r?-1:1,p=t[e+h];for(h+=l,i=p&(1<<-f)-1,p>>=-f,f+=a;f>0;i=256*i+t[e+h],h+=l,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=256*s+t[e+h],h+=l,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),i-=c}return(p?-1:1)*s*Math.pow(2,i-n)},t.write=function(t,e,r,n,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,h=f>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,o),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;t[r+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*y}}]],a=[];function c(i){if(i>>>0!==i||i>s.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(i);for(;a.length<=i;)a.push(null);var u=a[i];if(u)return u.exports;var c=s[i],f=c[0],h=c[1],l=c[2],p=n,d=o,y=e,g=t,m=r;0!==i&&(m={id:"/"+f+h,exports:g={},parent:r,filename:p,loaded:!1,children:r.children,paths:r.paths,require:r.require}),a[i]=m;try{l.call(g,g,y,m,p,d,void 0)}catch(t){throw delete a[i],t}return 0!==i&&(m.loaded=!0),m.exports}c(0)}],["bpkg","/lib/builtins/console.js",function(e,r,n,o,i,s){var a=[["console-browserify","/index.js",function(e,r,n,o,i,s){var a,u=p(21,n),f=p(1,n),h=c(1),l=Array.prototype.slice,d={};a=void 0!==t&&t.console?t.console:"undefined"!=typeof window&&window.console?window.console:{};for(var y=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(t){d[t]=h()},"time"],[function(t){var e=d[t];if(!e)throw new Error("No such label: "+t);var r=h()-e;a.log(t+": "+r+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=u.format.apply(null,arguments),a.error(t.stack)},"trace"],[function(t){a.log(u.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=l.call(arguments,1);f.ok(!1,u.format.apply(null,e))}},"assert"]],g=0;g<y.length;g++){var m=y[g],w=m[0],v=m[1];a[v]||(a[v]=w)}n.exports=a}],["date-now","/index.js",function(t,e,r,n,o,i){r.exports=function(){return(new Date).getTime()}}]],u=[];function c(t){if(t>>>0!==t||t>a.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(t);for(;u.length<=t;)u.push(null);var s=u[t];if(s)return s.exports;var c=a[t],f=c[0],h=c[1],l=c[2],p=o,d=i,y=r,g=e,m=n;0!==t&&(m={id:"/"+f+h,exports:g={},parent:n,filename:p,loaded:!1,children:n.children,paths:n.paths,require:n.require}),u[t]=m;try{l.call(g,g,y,m,p,d,void 0)}catch(e){throw delete u[t],e}return 0!==t&&(m.loaded=!0),m.exports}c(0)}],["bpkg","/lib/builtins/util.js",function(t,e,r,n,o,i){var a=[["util","/util.js",function(t,e,r,n,o,i){var a=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},c=/%[sdj%]/g;t.format=function(t){if(!A(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(p(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(t).replace(c,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),s=n[r];r<o;s=n[++r])E(s)||!S(s)?i+=" "+s:i+=" "+p(s);return i},t.deprecate=function(e,r){if(void 0!==s&&!0===s.noDeprecation)return e;if(void 0===s)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(s.throwDeprecation)throw new Error(r);s.traceDeprecation?u.trace(r):u.error(r),n=!0}return e.apply(this,arguments)}};var h,l={};function p(e,r){var n={seen:[],stylize:y};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&t._extend(n,r),j(n.showHidden)&&(n.showHidden=!1),j(n.depth)&&(n.depth=2),j(n.colors)&&(n.colors=!1),j(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=d),g(n,e,n.depth)}function d(t,e){var r=p.styles[e];return r?"["+p.colors[r][0]+"m"+t+"["+p.colors[r][1]+"m":t}function y(t,e){return t}function g(e,r,n){if(e.customInspect&&r&&T(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return A(o)||(o=g(e,o,n)),o}var i=function(t,e){if(j(e))return t.stylize("undefined","undefined");if(A(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(O(e))return t.stylize(""+e,"number");if(b(e))return t.stylize(""+e,"boolean");if(E(e))return t.stylize("null","null")}(e,r);if(i)return i;var s=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),_(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return m(r);if(0===s.length){if(T(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(x(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return e.stylize(Date.prototype.toString.call(r),"date");if(_(r))return m(r)}var c,f="",h=!1,l=["{","}"];(v(r)&&(h=!0,l=["[","]"]),T(r))&&(f=" [Function"+(r.name?": "+r.name:"")+"]");return x(r)&&(f=" "+RegExp.prototype.toString.call(r)),k(r)&&(f=" "+Date.prototype.toUTCString.call(r)),_(r)&&(f=" "+m(r)),0!==s.length||h&&0!=r.length?n<0?x(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=h?function(t,e,r,n,o){for(var i=[],s=0,a=e.length;s<a;++s)R(e,String(s))?i.push(w(t,e,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(w(t,e,r,n,o,!0))}),i}(e,r,n,a,s):s.map(function(t){return w(e,r,n,a,t,h)}),e.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,f,l)):l[0]+f+l[1]}function m(t){return"["+Error.prototype.toString.call(t)+"]"}function w(t,e,r,n,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),R(n,o)||(s="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=E(r)?g(t,u.value,null):g(t,u.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),j(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function v(t){return Array.isArray(t)}function b(t){return"boolean"==typeof t}function E(t){return null===t}function O(t){return"number"==typeof t}function A(t){return"string"==typeof t}function j(t){return void 0===t}function x(t){return S(t)&&"[object RegExp]"===C(t)}function S(t){return"object"==typeof t&&null!==t}function k(t){return S(t)&&"[object Date]"===C(t)}function _(t){return S(t)&&("[object Error]"===C(t)||t instanceof Error)}function T(t){return"function"==typeof t}function C(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}t.debuglog=function(e){if(j(h)&&(h=s.env.NODE_DEBUG||""),e=e.toUpperCase(),!l[e])if(new RegExp("\\b"+e+"\\b","i").test(h)){var r=s.pid;l[e]=function(){var n=t.format.apply(t,arguments);u.error("%s %d: %s",e,r,n)}}else l[e]=function(){};return l[e]},t.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=v,t.isBoolean=b,t.isNull=E,t.isNullOrUndefined=function(t){return null==t},t.isNumber=O,t.isString=A,t.isSymbol=function(t){return"symbol"==typeof t},t.isUndefined=j,t.isRegExp=x,t.isObject=S,t.isDate=k,t.isError=_,t.isFunction=T,t.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},t.isBuffer=f(1);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.log=function(){var e,r;u.log("%s - %s",(e=new Date,r=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":"),[e.getDate(),N[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=f(2),t._extend=function(t,e){if(!e||!S(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var B="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}t.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(B&&t[B]){var e;if("function"!=typeof(e=t[B]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,B,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise(function(t,n){e=t,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,n){t?r(t):e(n)});try{t.apply(this,o)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),B&&Object.defineProperty(e,B,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,a(t))},t.promisify.custom=B,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var n=e.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return n.apply(o,arguments)};t.apply(this,e).then(function(t){s.nextTick(i,null,t)},function(t){s.nextTick(P,t,i)})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,a(t)),e}}],["util","/support/isBufferBrowser.js",function(t,e,r,n,o,i){r.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}}],["inherits","/inherits_browser.js",function(t,e,r,n,o,i){"function"==typeof Object.create?r.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}]],c=[];function f(i){if(i>>>0!==i||i>a.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(i);for(;c.length<=i;)c.push(null);var s=c[i];if(s)return s.exports;var u=a[i],f=u[0],h=u[1],l=u[2],p=n,d=o,y=e,g=t,m=r;0!==i&&(m={id:"/"+f+h,exports:g={},parent:r,filename:p,loaded:!1,children:r.children,paths:r.paths,require:r.require}),c[i]=m;try{l.call(g,g,y,m,p,d,void 0)}catch(t){throw delete c[i],t}return 0!==i&&(m.loaded=!0),m.exports}f(0)}]],f=[];function h(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}function l(t){h(t)}function p(t,e){if(t>>>0!==t||t>c.length)return h(t);if(null!=e&&!e.children)return h(t);for(;f.length<=t;)f.push(null);var r=f[t];if(r)return r.exports;var n=c[t],o=n[0],i=n[1],s=n[2],a=i,u=a.split("/").slice(0,-1).join("/")||"/",p=l,d={},y={id:"/"+o+i,exports:d,parent:e,filename:a,loaded:!1,children:[],paths:["/"],require:p};e&&e.children.push(y),0===t&&(p.main=y),f[t]=y;try{s.call(d,d,p,y,a,u,void 0)}catch(e){throw delete f[t],e}return y.loaded=!0,y.exports}l.resolve=h,l.main=null,l.extensions={__proto__:null},l.cache={__proto__:null},e=p(17,null),r=e.setTimeout,n=e.clearTimeout,o=e.setInterval,i=e.clearInterval,e.setImmediate,e.clearImmediate,s=p(18,null),a=p(19,null).Buffer,u=p(20,null);var d=p(0,null);"function"==typeof define&&define.amd?define("PROXYSOCKET",[],function(){return d}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=d:t.PROXYSOCKET=d}("undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")());
